<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <!-- 引用和被引用的组件必须都在ioc容器里 -->

    <!-- 1.单个构造参数注入 -->
    <!-- 步骤1.将他们都存放在ioc容器里 -->
    <!-- userDao也可以写在userService的下边，原因：spring ioc容器是一个高级的容器，内部有缓存动作；
    1.先创建对象[ioc]
    2.再进行属性赋值[di]
    -->
    <bean id="userDao" class="com.atsakuraky.ioc_02.UserDao" />

    <!-- 步骤2.将userDao的id传入到userService的构造参数中 -->
    <!-- 通过构造参数传值的方式进行依赖注入 -->
    <bean id="userService" class="com.atsakuraky.ioc_02.UserService">
        <!-- 构造参数传值 di的配置
            constructor-arg 构造参数传值的di配置
                value:传入的值
                ref:传入的组件对象
        -->
        <constructor-arg  ref="userDao" />
    </bean>


    <!-- 2.多个构造参数注入 -->
    <bean id="userService1" class="com.atsakuraky.ioc_02.UserService" >
        <!-- 方案一：构造参数的顺序填写值 value:直接赋值 ref:引用其他的bean id -->
        <constructor-arg value="18" />
        <constructor-arg value="老李" />
        <constructor-arg ref="userDao" />
    </bean>

    <bean id="userService2" class="com.atsakuraky.ioc_02.UserService" >
        <!-- 方案二：构造参数的名字填写，不用考虑顺序 name:构造参数的名字[推荐] -->
        <constructor-arg name="age" value="18" />
        <constructor-arg name="name" value="老李" />
        <constructor-arg name="userDao" ref="userDao" />

    </bean>

    <bean id="userService3" class="com.atsakuraky.ioc_02.UserService" >
        <!-- 方案三：构造参数的下角标指定填写，不用考虑顺序 index:构造参数的下角标，从左到右，从0开始
         age = 0，name = 1，userDao = 2
         -->
        <constructor-arg index="0" value="18" />
        <constructor-arg index="1" value="老李" />
        <constructor-arg index="2" ref="userDao" />

    </bean>

    <!-- 3.触发setter方法进行注入 -->
    <bean id="movieFinder" class="com.atsakuraky.ioc_02.MovieFinder" />
    <bean id="simpleMovieLister" class="com.atsakuraky.ioc_02.SimpleMovieLister" >
        <!-- name:是setter方法去掉set + 首字母小写的值(调用set方法的名) setMovieFinder = movieFinder
        value | ref:二选一 value:直接属性值 ref:引用其他的bean id
        -->
        <property name="movieFinder" ref="movieFinder" />
        <property name="movieName" value="test" />
    </bean>

</beans>

